# Changelog

## [5] - 2021-09-21
- Количество попыток на отправку уменьшено до 3х.
- Исправлен баг с зависанием в функции getDelayPages.
- Добавлена небольшая статистика по задачам.
- Удалены лишние файлы.


## [4] - 2021-07-09
- На отправку запросов теперь 5 попыток
- Добавлена телеметрия начальной энергии из памяти (2, 12) и (2, 13)
- Исправлена телеметрия ошибок в буте
- Добавлена телеметрия длины полученой прошивки (2,10)
- Телеметрия ошибок в буте изменена на (2, 11)
- Телеметрия новой прошивки и ее длины теперь отправляются и перед алгоритмом прошивки и после.
- Перед обновлением прошивки всегда открывается новое TCP соединение.
- Если на запрос нету ответа, то открывается новое соединение.
- Исправлен баг с добавлением данных в кольцевой буфер

## [3] - 2021-05-19
### Added
- Карта битых сеткоров EEPROM
- Вычисление crc32 новой прошивки и запись в память для проверки бутом
- Телеметрия (2,10), если в буте были ошибки
### Changed
- Переписана немного работа с spi flash

## [2] - 2021-05-14
### Added
- Добавление сторожевого таймера по всем таскам
- Проверка правильности чтения температуры
### Changed
- Телеметрия окончания перепрошивки (2,9) теперь содержит номер этой прошивки

## [1] - 2021-04-23
### Added
- Энергия сохраняется в EEPROM
- Голова и хвост кольцевого буфера сохраняются в EEPROM
- Зануление энергии в случае, если текущее значение меньше предыдущего
- Энергия, температура отправляются раз в минуту, если не изменяются
### Changed
- Временные метки от беспроводных датчиков фиксируются отдельно для каждого измерения
